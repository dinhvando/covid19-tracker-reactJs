(this["webpackJsonpcovid19-tracker"]=this["webpackJsonpcovid19-tracker"]||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},268:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var c,n,r,s,o,i=a(0),l=a.n(i),d=a(11),u=a.n(d),j=(a(136),a(53)),b=(a(137),a(115)),f=a.n(b),h=a(303),p=a(305),m=a(306),O=a(300),x=a(20),v=a.n(x),y=(a(138),a(3)),g=Object(O.a)((function(){return{cardRoot:{width:"30%",textAlign:"center",cursor:"pointer"},title:{textTransform:"uppercase"}}})),C=function(e){var t=e.title,a=e.cases,c=e.total,n=e.onCLick,r=g();return Object(y.jsx)(h.a,{raised:!0,className:"".concat(r.cardRoot," cardItem--").concat(t),onCLick:n,children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(m.a,{className:r.title,variant:"h5",children:t}),Object(y.jsxs)(m.a,{variant:"h5",children:["+ ",v()(a).format("0,0")]}),Object(y.jsxs)(m.a,{variant:"h6",children:["Total: ",v()(c).format("0,0")]})]})})},w=a(315),N=a(316),D=a(317),k=a(54),I=a.p+"static/media/WHO.26424de7.jpg",R=a.p+"static/media/BoYTe.00f3eb67.png",T=a(125),_=a(17),z=a.n(_),S=a(36),L=a(24),E=a.n(L),W=l.a.memo((function(e){var t=e.data,a={cases:"rgba(0,0,255,0.5)",recovered:"rgba(0,255,0,0.5)",deaths:"rgba(255,0,0,0.5)"},c=["cases","recovered","deaths"],n=function(){for(var e=[],a=0;a<c.length;a++){var n=[],r=void 0;for(var s in t[c[a]]){if(r){var o={x:s,y:t[c[a]][s]-r};n.push(o)}r=t[c[a]][s]}e.push(n)}return e}();return Object(y.jsx)(y.Fragment,{children:0!==n.length&&Object(y.jsx)(T.a,{data:{labels:n[0].map((function(e){return e.x})),datasets:[{data:n[0].map((function(e){var t=e.y;return parseInt(t)})),label:c[0],borderColor:a[c[0]],fill:!1,backgroundColor:a[c[0]]},{data:n[1].map((function(e){var t=e.y;return parseInt(t)})),label:c[1],borderColor:a[c[1]],fill:!1,backgroundColor:a[c[1]]},{data:n[2].map((function(e){var t=e.y;return parseInt(t)})),label:c[2],borderColor:a[c[2]],fill:!1,backgroundColor:a[c[2]]}]}})})})),A=(a(268),a(307)),B=a(308),H=a(318),J=a(319),M=a(309),Z={cases:{hex:"#CC1034",mulitiplier:800},recovered:{hex:"#7DD71D",mulitiplier:1200},deaths:{hex:"#1f1d1d",mulitiplier:2e3}},q=function(e){var t=e.countries,a=e.casesType,c=e.center,n=e.zoom;function r(e){var t=e.center,a=e.zoom;return Object(A.a)().setView(t,a),null}return Object(y.jsx)("div",{className:"map",children:Object(y.jsxs)(B.a,{children:[Object(y.jsx)(r,{center:c,zoom:n}),Object(y.jsx)(H.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(e,t){return Object(y.jsx)(J.a,{center:[e.lat,e.long],fillOpacity:.4,pathOptions:{color:Z[a].hex,fillColor:Z[a].hex},radius:Math.sqrt(e[a]/10)*Z[a].mulitiplier,children:Object(y.jsx)(M.a,{children:Object(y.jsxs)("div",{className:"info-container",children:[Object(y.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.flag,")")}}),Object(y.jsx)("div",{className:"info-name",children:e.name}),Object(y.jsxs)("div",{className:"info-confirmed",children:["Cases: ",v()(e.cases).format("0,0")]}),Object(y.jsxs)("div",{className:"info-recovered",children:["Recovered: ",v()(e.recovered).format("0,0")]}),Object(y.jsxs)("div",{className:"info-deaths",children:["Deaths: ",v()(e.deaths).format("0,0")]})]})})},t)}))]})})},F=a(4),G=a(310),V=a(311),Y=a(312),K=a(313),P=a(314),Q=Object(O.a)((function(){return{tableCell:{fontSize:18},countryInfo:{},image:{width:40,height:"auto",marginRight:4,position:"relative",top:5}}})),U=function(e){var t=e.tableData,a=Q();return Object(y.jsxs)(G.a,{className:a.tableContent,children:[Object(y.jsx)(V.a,{children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(K.a,{className:a.tableCell,children:"#"}),Object(y.jsx)(K.a,{className:Object(F.a)(a.tableCell),align:"left",children:"Country"}),Object(y.jsx)(K.a,{className:a.tableCell,align:"left",children:"Number of Cases"})]})}),Object(y.jsx)(P.a,{children:t.map((function(e,t){var c=e.name,n=e.flag,r=e.cases;return Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(K.a,{className:a.tableCell,align:"left",children:t+1}),Object(y.jsxs)(K.a,{className:Object(F.a)(a.tableCell,a.countryInfo),align:"left",children:[Object(y.jsx)("img",{className:a.image,alt:c,src:n})," ",c," "]}),Object(y.jsx)(K.a,{className:a.tableCell,align:"left",children:v()(r).format("0,0")})]},t)}))})]})},X=(a(269),a(9)),$=a(25),ee=a(10),te=a(31),ae="https://disease.sh/v3/covid-19/historical",ce=Object(te.b)("fectchCountry",Object(S.a)(z.a.mark((function e(){var t,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://disease.sh/v3/covid-19/countries");case 2:return t=e.sent,a=t.data,c=a.map((function(e){return{name:e.country,flag:e.countryInfo.flag,cases:e.cases,todayCases:e.todayCases,deaths:e.deaths,todayDeaths:e.todayDeaths,recovered:e.recovered,todayRecovered:e.todayRecovered,long:e.countryInfo.long,lat:e.countryInfo.lat}})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))),ne=Object(te.b)("fetchGlobalData",Object(S.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://disease.sh/v3/covid-19/all");case 2:return t=e.sent,a=t.data,e.abrupt("return",{cases:a.cases,todayCases:a.todayCases,deaths:a.deaths,todayDeaths:a.todayDeaths,recovered:a.recovered,todayRecovered:a.todayRecovered});case 5:case"end":return e.stop()}}),e)})))),re=Object(te.b)("fetchHistoryCountryData",function(){var e=Object(S.a)(z.a.mark((function e(t){var a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"worldwide"!==t){e.next=7;break}return e.next=4,E.a.get("".concat(ae,"/all?lastdays=7"));case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,E.a.get("".concat(ae,"/").concat(t,"?lastdays=7"));case 9:e.t0=e.sent;case 10:return a=e.t0,c=a.data,e.abrupt("return","worldwide"===t?c:c.timeline);case 15:throw e.prev=15,e.t1=e.catch(0),new Error("Country not found or doesnt have any historical data");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()),se=Object(te.c)({name:"country",initialState:{countryInfo:[],globalData:{},historyData:{},currentCountry:"worldwide"},reducers:{changeCountry:function(e,t){e.currentCountry=t.payload}},extraReducers:(c={},Object(ee.a)(c,ce.fulfilled,(function(e,t){e.countryInfo=Object(X.a)(t.payload)})),Object(ee.a)(c,ne.fulfilled,(function(e,t){e.globalData=t.payload})),Object(ee.a)(c,re.fulfilled,(function(e,t){e.historyData=t.payload})),c)}),oe=se.reducer,ie=se.actions.changeCountry,le=Object(te.c)({name:"map",initialState:{mapCenter:[21,105.8],mapZoom:5,caseType:"cases"},reducers:{changeCaseType:function(e,t){e.caseType=t.payload},setCenter:function(e,t){e.mapCenter=t.payload}}}),de=le.reducer,ue=le.actions,je=ue.changeCaseType,be=ue.setCenter,fe=k.a.div(n||(n=Object(j.a)(["\n    display: flex;\n    justify-content:space-between;\n    margin: 10px;\n    align-items:center;\n"]))),he=k.a.h1(r||(r=Object(j.a)(["\n    color: red\n"]))),pe=k.a.div(s||(s=Object(j.a)(["\n    display: flex;\n    height: 80px;\n"]))),me=k.a.img(o||(o=Object(j.a)(["\n    height: inherit;\n"])));var Oe=function(){var e,t=Object($.b)(),a=Object($.c)((function(e){return e.country.countryInfo})),c=Object($.c)((function(e){return e.country.currentCountry})),n=Object($.c)((function(e){return e.country.globalData})),r=Object($.c)((function(e){return e.country.historyData})),s=Object($.c)((function(e){return e.map.mapCenter})),o=Object($.c)((function(e){return e.map.mapZoom})),l=Object($.c)((function(e){return e.map.caseType})),d=a.find((function(e){return e.name===c}));return Object(i.useEffect)((function(){t(ce()),t(ne()),t(re(c))}),[]),Object(i.useEffect)((function(){t(re(c)),t(be("worldwide"!==c?[d.lat,d.long]:[21,105.8]))}),[c]),console.log(l),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("div",{className:"app__left",children:[Object(y.jsxs)(fe,{children:[Object(y.jsx)(he,{children:"Covid-19 Tracker"}),Object(y.jsxs)(pe,{children:[Object(y.jsx)(me,{src:I}),Object(y.jsx)(me,{src:R})]}),Object(y.jsx)(w.a,{style:{minWidth:"200px"},children:Object(y.jsxs)(N.a,{style:{fontSize:"20px"},variant:"outlined",value:c,onChange:function(e){t(ie(e.target.value))},children:[Object(y.jsx)(D.a,{style:{fontSize:"20px"},value:"worldwide",children:"Worldwide"}),a.map((function(e,t){var a=e.name;return Object(y.jsx)(D.a,{style:{fontSize:"20px"},value:a,children:a},t)}))]})})]}),Object(y.jsxs)("div",{className:"app__stats",children:[Object(y.jsx)(C,{onCLick:function(e){return t(je("cases"))},title:"Infected",cases:"worldwide"===c?n.todayCases:d.todayCases,total:"worldwide"===c?n.cases:d.cases,className:f()("cardItem","cardItem--infected")}),Object(y.jsx)(C,{onCLick:function(e){return t(je("recovered"))},title:"Recovered",cases:"worldwide"===c?n.todayRecovered:d.todayRecovered,total:"worldwide"===c?n.recovered:d.recovered}),Object(y.jsx)(C,{onCLick:function(e){return t(je("deaths"))},title:"Deaths",cases:"worldwide"===c?n.todayDeaths:d.todayDeaths,total:"worldwide"===c?n.deaths:d.deaths})]}),Object(y.jsx)("div",{className:"app__chart",children:Object(y.jsx)(W,{data:r})}),Object(y.jsx)(q,{countries:a,casesType:l,center:s,zoom:o})]}),Object(y.jsx)(h.a,{className:"app__right",children:Object(y.jsxs)("div",{className:"table__content",children:[Object(y.jsx)("h1",{children:"Live Cases by Country"}),Object(y.jsx)(U,{tableData:(e=a,Object(X.a)(e).sort((function(e,t){return t.cases-e.cases})))})]})})]})},xe=Object(te.a)({reducer:{country:oe,map:de}});u.a.render(Object(y.jsx)($.a,{store:xe,children:Object(y.jsx)(Oe,{})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.76fed48a.chunk.js.map